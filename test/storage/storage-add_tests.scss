@import '../../test';

// -----------------------------------------------------------------------------

@include test-function('storage-add')
{
    @include test('Should create a new storage map with the key and value')
    {
        $_concrete-storage: () !global;
        @include storage-add('test', 'k1', 'v1');

        @include assert-equal($_concrete-storage, ( 'test': ( 'k1': 'v1' ) ));
    }

    @include test('Should replace the value of the key in the storage map')
    {
        $_concrete-storage: ( 'test': ('k1': 'v1') ) !global;
        @include storage-add('test', 'k1', 'v2');

        @include assert-equal($_concrete-storage, ( 'test': ( 'k1': 'v2' ) ));
    }

    @include test('Should create a new storage list with the values in it')
    {
        $_concrete-storage: () !global;
        @include storage-add('test', false, 1);
        @include storage-add('test', false, 2);

        @include assert-equal($_concrete-storage, ( 'test': ( 1, 2 ) ));
    }
}
